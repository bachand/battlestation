#!/bin/bash

readonly REPO_DIR=$(git rev-parse --show-toplevel)

#######################################
# Prints the provided message to STDOUT in the default color.
#
# Arguments:
#   Verbose message
#######################################
echo_verbose() {
  printf "%s\n" "$*" >&2;
}

#######################################
# Prints the provided message to STDERR in red.
#
# Arguments:
#   Error message
#######################################
echo_error() {
  printf "$(tput setaf 1)%s$(tput sgr 0)\n" "$*" >&2;
}

#######################################
# Installs HomeBrew if necessary.
#######################################
install_homebrew() {
  if ! type brew >/dev/null 2>&1; then
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
  fi
}

install_dropbox() {
  echo "todo" > /dev/null
}

# TODO(MB): Things we would have to do if we wanted this be able to be run from a fresh machine:
#   sudo gem install bundle
#   Skitch
#   Adobe Photoshop
#   Setting: enable "Remove items from the Trash after 30 days" from the finder settings.
#   https://www.makeuseof.com/tag/automatically-clean-up-your-mac-os-x-downloads-or-any-folder/ (can this be converted to code?)

install_homebrew

install_dropbox

# Note: Symlink creation is now handled by the Ruby CLI
echo_verbose "Symlink creation is now handled by the Ruby CLI in lib/battlestation/cli.rb"
